# Auto-Grow UI

A modern web application for the Auto-Grow system built with Bun, React, TanStack Router, and shadcn/ui.

## Features

- **Authentication**: Login screen with HTTP Basic Auth
- **Dashboard**: Overview of devices, stages, protocols, and tracking data
- **Devices Management**: List, create, update, and delete devices
- **Stages Management**: Manage growth stages
- **Protocols Management**: Configure protocols with stage associations
- **Tracking**: Monitor environmental data (temperature, humidity, CO2, PPFD)

## Tech Stack

- **Runtime**: Bun
- **Framework**: React 19
- **Router**: TanStack Router
- **UI Components**: shadcn/ui
- **Styling**: Tailwind CSS
- **Build Tool**: Vite

## Getting Started

### Prerequisites

- [Bun](https://bun.sh/) installed on your system
- Auto-Grow API running (default: `http://localhost:3000`)

### Installation

```bash
# Install dependencies
bun install
```

### Configuration

1. Copy the example environment file:
```bash
cp .env.example .env
```

2. Update the `.env` file with your API URL:
```
VITE_API_BASE_URL=http://localhost:3000
```

### Development

Start the development server:

```bash
bun run dev
```

The application will be available at [http://localhost:5173](http://localhost:5173)

### Building for Production

```bash
bun run build
```

The built files will be in the `dist` directory.

### Preview Production Build

```bash
bun run preview
```

## Project Structure

```
ui/
├── src/
│   ├── components/
│   │   └── ui/          # shadcn/ui components
│   ├── hooks/
│   │   └── useAuth.tsx  # Authentication context
│   ├── lib/
│   │   ├── api.ts       # API client
│   │   └── utils.ts     # Utility functions
│   ├── routes/
│   │   ├── __root.tsx   # Root layout with navigation
│   │   ├── index.tsx    # Home redirect
│   │   ├── login.tsx    # Public login route
│   │   ├── _authenticated.tsx        # Auth guard layout
│   │   └── _authenticated/
│   │       ├── dashboard.tsx         # Dashboard screen
│   │       ├── devices.tsx           # Devices management
│   │       ├── stages.tsx            # Stages management
│   │       ├── protocols.tsx         # Protocols management
│   │       └── tracking.tsx          # Tracking data
│   ├── index.css        # Global styles
│   └── main.tsx         # Application entry point
├── index.html
├── vite.config.ts
├── tailwind.config.js
└── package.json
```

## Routes

- `/` - Home (redirects to `/dashboard` or `/login`)
- `/login` - Public login screen
- `/dashboard` - Dashboard overview (protected)
- `/devices` - Devices management (protected)
- `/stages` - Stages management (protected)
- `/protocols` - Protocols management (protected)
- `/tracking` - Tracking data (protected)

## API Integration

The application integrates with the Auto-Grow API using HTTP Basic Authentication. All API endpoints are documented in the [openapi.json](./openapi.json) file.

Key API endpoints:
- `GET /api/devices/` - List all devices
- `GET /api/stages/` - List all stages
- `GET /api/protocols/` - List all protocols
- `GET /api/trackings/` - List all tracking records

## Authentication

The app uses HTTP Basic Authentication with credentials stored in localStorage. Upon login, credentials are validated against the API and stored for subsequent requests.

To logout, click the "Logout" button in the navigation bar, which clears the stored credentials.

## Development Notes

- Routes are automatically generated by TanStack Router plugin
- The `_authenticated` layout provides route protection
- API client handles authentication headers automatically
- All protected routes require authentication
